<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-database_documentation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">ThriftFinder Firestore Database Documentation | Muscle Mommies Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tino-ryan.github.io/Muscle-mommies/database_documentation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ThriftFinder Firestore Database Documentation | Muscle Mommies Docs"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/Muscle-mommies/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tino-ryan.github.io/Muscle-mommies/database_documentation"><link data-rh="true" rel="alternate" href="https://tino-ryan.github.io/Muscle-mommies/database_documentation" hreflang="en"><link data-rh="true" rel="alternate" href="https://tino-ryan.github.io/Muscle-mommies/database_documentation" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ThriftFinder Firestore Database Documentation","item":"https://tino-ryan.github.io/Muscle-mommies/database_documentation"}]}</script><link rel="alternate" type="application/rss+xml" href="/Muscle-mommies/blog/rss.xml" title="Muscle Mommies Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Muscle-mommies/blog/atom.xml" title="Muscle Mommies Docs Atom Feed"><link rel="stylesheet" href="/Muscle-mommies/assets/css/styles.4769c4bb.css">
<script src="/Muscle-mommies/assets/js/runtime~main.58d5743b.js" defer="defer"></script>
<script src="/Muscle-mommies/assets/js/main.35d558f5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/Muscle-mommies/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Muscle-mommies/"><div class="navbar__logo"><img src="/Muscle-mommies/img/logo.svg" alt="Muscle Mommies Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Muscle-mommies/img/logo.svg" alt="Muscle Mommies Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Muscle Mommies</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Muscle-mommies/intro">Docs</a><a class="navbar__item navbar__link" href="/Muscle-mommies/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/tino-ryan/Muscle-mommies" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/intro">INTRO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/tech-stack">Tech Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/Version-control">Version Control</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/git-methodology">Git Methodology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/Dev-guide">Muscle-Mommies Development Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/Structure">structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/initial-design">Initial Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/development-plan">Development Plan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/project-management">Project Management Methodology &amp; Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/third-party-code">ðŸ“¦ Third-Party Libraries Used in ThriftFinder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/api_documentation">ThriftFinder External API Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Muscle-mommies/database_documentation">ThriftFinder Firestore Database Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/user-feedback">User Feedback &amp; Methodology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/Bug-tracker">Sprint 2 Bug Tracking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/TestingDocumentation">Testing Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/API_internal">ThriftFinder API Documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Muscle-mommies/Security-Audit">Security Audit of the NPM Supply Chain Attacks: A Software Design Case Study</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Muscle-mommies/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ThriftFinder Firestore Database Documentation</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ThriftFinder Firestore Database Documentation</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2>
<p>ThriftFinder uses <strong>Firebase Firestore</strong> as its database to manage thrift store data, user interactions, and photo journal entries. The database supports the ThriftFinder app&#x27;s core functionality (e.g., store management, item listings, reservations, and messaging) and the external API for integration with the Campus Quest project. This documentation describes the Firestore collections, their structure, purpose, and how they enable the application&#x27;s features and external API endpoints.
The database is designed to:</p>
<ul>
<li>Store thrift store profiles and their inventory for display in ThriftFinder and as quest locations or advertisements in Campus Quest.</li>
<li>Manage user interactions like reservations and messaging.</li>
<li>Support photo uploads for user photo journals via the external API, stored in a separate <code>externalImages</code> collection to avoid interference with ThriftFinderâ€™s internal logic.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-setup">Database Setup<a href="#database-setup" class="hash-link" aria-label="Direct link to Database Setup" title="Direct link to Database Setup">â€‹</a></h2>
<ul>
<li><strong>Database</strong>: Google Firebase Firestore (NoSQL, document-based).</li>
<li><strong>Collections</strong>: The database consists of eight main collections: <code>users</code>, <code>stores</code>, <code>items</code>, <code>itemImages</code>, <code>Reservations</code>, <code>chats</code>, <code>messages</code>, <code>outfits</code>, and an additional <code>externalImages</code> collection for the external API.</li>
<li><strong>Environment</strong>: Configured via Firebase Admin SDK in the backend (<code>config/firebase.js</code>), with credentials stored in environment variables (<code>FIREBASE_*</code> in <code>.env</code>).</li>
<li><strong>Access</strong>: The backend (<code>index.js</code>, <code>storeController.js</code>, etc.) uses the Firebase Admin SDK for full read/write access. The external API (<code>/external/*</code>) provides read-only access to <code>stores</code> and read/write access to <code>externalImages</code> with API key authentication.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="collections">Collections<a href="#collections" class="hash-link" aria-label="Direct link to Collections" title="Direct link to Collections">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-users">1. <code>users</code><a href="#1-users" class="hash-link" aria-label="Direct link to 1-users" title="Direct link to 1-users">â€‹</a></h3>
<p>Stores user profile information, including their role (customer or store owner).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="structure">Structure<a href="#structure" class="hash-link" aria-label="Direct link to Structure" title="Direct link to Structure">â€‹</a></h4>
<ul>
<li><strong>Document ID</strong>: Firebase UID (e.g., <code>dTGCpDOOteSXAq02NirTMZ2EOQk2</code>)</li>
<li><strong>Fields</strong>:<!-- -->
<ul>
<li><code>createdAt</code>: Timestamp of user creation (Firestore Timestamp, e.g., 18 August 2025 at 21:29:35 UTC+2)</li>
<li><code>email</code>: Userâ€™s email address (string, e.g., <code>boss@man.com</code>)</li>
<li><code>name</code>: Userâ€™s display name (string, e.g., <code>boss</code>)</li>
<li><code>role</code>: User role (string, enum: <code>customer</code> or <code>storeOwner</code>)</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="purpose">Purpose<a href="#purpose" class="hash-link" aria-label="Direct link to Purpose" title="Direct link to Purpose">â€‹</a></h4>
<ul>
<li>Tracks user accounts and their roles to differentiate between customers and store owners.</li>
<li>Used by <code>authController.js</code> for signup and role retrieval (<code>/api/auth/getRole</code>).</li>
<li>Links users to stores (via <code>ownerId</code> in <code>stores</code>) and reservations/messages (via <code>userId</code>, <code>senderId</code>, etc.).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h4>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1724099375</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;boss@man.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;boss&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;role&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;storeOwner&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">. stores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores thrift shop profiles</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> used for both ThriftFinderâ€™s storefronts and Campus Questâ€™s quest locations/advertisements.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Auto-generated Firestore ID or UUID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c2e14220-5ebc</span><span class="token number" style="color:#36acaa">-4211</span><span class="token number" style="color:#36acaa">-9995</span><span class="token plain">-b056ad6e852f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">address</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Physical address (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Wits Sports West Campus</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Braamfontein</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ...)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createdAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Creation timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> August </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">21</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">37</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">24</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Store description (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> typical braam thrift shop)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">location</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Geolocation (map</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> lat</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> lng</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> number </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;lat&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-26.1869103</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;lng&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28.0299083</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ownerId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firebase UID of the store owner (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dTGCpDOOteSXAq02NirTMZ2EOQk2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">profileImageURL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Cloudinary URL for storeâ€™s profile image (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//res.cloudinary.com/...)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID for the store (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Store name (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Skull Dugree)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">theme</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Store theme or aesthetic (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vintage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> streetwear</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">updatedAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Last update timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subcollection</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> contactInfos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 4ac6605e-e6e7-476a-9f46-e10d08d3072a)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Contact type (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> phone</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> instagram)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Contact value (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0667778888</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores thrift shop metadata for display in ThriftFinderâ€™s storefronts and Campus Questâ€™s quest locations/advertisements (GET /external/stores).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Links to items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and messages via storeId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Subcollection contactInfos stores additional contact details (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> phone</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> social media).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The theme field allows stores to define their aesthetic</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> enhancing user browsing experience.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;address&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Wits Sports West Campus, Braamfontein, Johannesburg Ward 60, ...&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1724879844</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;typical braam thrift shop&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;location&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;lat&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">-26.1869103</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;lng&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28.0299083</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;ownerId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dTGCpDOOteSXAq02NirTMZ2EOQk2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;profileImageURL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://res.cloudinary.com/dfkg0topw/image/upload/v1756409843/muscle-mommies/owo3oralfcyucwkdupot.png&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;storeId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c2e14220-5ebc-4211-9995-b056ad6e852f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;storeName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Skull Dugree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;theme&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;vintage&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;updatedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">. items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores thrift item listings for sale in stores.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 1f8a7251-342c-409f-aaa2-54c6e5af3ab0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">category</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item category (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> footwear)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createdAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Creation timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> August </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">11</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">29</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">department</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Department (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> men&#x27;s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> women&#x27;s)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item description (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cool pair of adidas)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">images</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Array of image metadata (array of maps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> imageId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> imageURL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isPrimary</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> boolean </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">itemId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item name (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shoes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">price</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item price (number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">quantity</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Available quantity (number</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">size</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item size (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item status (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> enum</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Available</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reserved</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Out of Stock</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reserved)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to store (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c2e14220-5ebc</span><span class="token number" style="color:#36acaa">-4211</span><span class="token number" style="color:#36acaa">-9995</span><span class="token plain">-b056ad6e852f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">style</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Item style (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> streetwear)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">updatedAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Last update timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores item listings for ThriftFinderâ€™s inventory management and shopping features.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Links to Reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and messages via itemId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Used by itemController.js for CRUD operations (/api/items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> /api/stores/</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">storeId/items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> etc.).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;category&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;footwear&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1724839750</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;department&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;men&#x27;s&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cool pair of adidas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;images&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;imageId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8a62996e-86c0-4615-9b08-2220f532ebd1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;imageURL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://res.cloudinary.com/dfkg0topw/image/upload/v1756419335/muscle-mommies/i4qzrhv1trdvzb8ehe0c.jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;isPrimary&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;imageId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2ce94624-cd8b-493a-894d-910597abe2ca&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;imageURL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://res.cloudinary.com/dfkg0topw/image/upload/v1756668350/muscle-mommies/lamdqkswsz70xecaauji.webp&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;isPrimary&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;itemId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1f8a7251-342c-409f-aaa2-54c6e5af3ab0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;shoes&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;price&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;quantity&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;size&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Reserved&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;storeId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c2e14220-5ebc-4211-9995-b056ad6e852f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;style&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;streetwear&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;updatedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">4</span><span class="token plain">. itemImages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores metadata for images associated with items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> uploaded to Cloudinary.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 121d5f7d-818b</span><span class="token number" style="color:#36acaa">-4831</span><span class="token plain">-9e6f-11ae3c68b7e7)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">imageId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">imageURL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Cloudinary URL (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//res.cloudinary.com/...)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isPrimary</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Whether the image is primary (boolean</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">itemId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to item (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 58509fa7</span><span class="token number" style="color:#36acaa">-5125</span><span class="token plain">-412e-b6eb-648fd822cb16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores image metadata for item listings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> linked to items via itemId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Populated by storeController.js during item creation/update (/api/stores/items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> /api/stores/items/</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">itemId).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Separate from externalImages to isolate ThriftFinderâ€™s internal images from Campus Questâ€™s photo journal uploads.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imageId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;121d5f7d-818b-4831-9e6f-11ae3c68b7e7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imageURL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://res.cloudinary.com/dfkg0topw/image/upload/v1756419431/muscle-mommies/aw7zglpyl8nx1pnvjist.jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;isPrimary&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;itemId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;58509fa7-5125-412e-b6eb-648fd822cb16&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">5</span><span class="token plain">. Reservations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tracks item reservations made by customers.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 3cf472eb-f579</span><span class="token number" style="color:#36acaa">-4561</span><span class="token plain">-8bba-d0b3e3fe9196)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">itemId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to item (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 1f8a7251-342c-409f-aaa2-54c6e5af3ab0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reservationId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reservedAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reservation timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">09</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">37</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">status</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reservation status (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> enum</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Pending</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Confirmed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Cancelled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Completed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Pending)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to store (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c2e14220-5ebc</span><span class="token number" style="color:#36acaa">-4211</span><span class="token number" style="color:#36acaa">-9995</span><span class="token plain">-b056ad6e852f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">updatedAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Last update timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">userId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firebase UID of the reserving user (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m4lMopagfkbd2RURe9JeralPK4R2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Manages item reservations for ThriftFinderâ€™s order system (/api/stores/reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> /api/stores/reserve/</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">itemId).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Links to items and stores via itemId and storeId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Used by store owners to confirm/cancel reservations (updateReservation in storeController.js).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;itemId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1f8a7251-342c-409f-aaa2-54c6e5af3ab0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;reservationId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3cf472eb-f579-4561-8bba-d0b3e3fe9196&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;reservedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1725178624</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Pending&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;storeId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c2e14220-5ebc-4211-9995-b056ad6e852f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;updatedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">6</span><span class="token plain">. chats</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores conversation metadata between users (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> customer and store owner).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Concatenated Firebase UIDs (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dTGCpDOOteSXAq02NirTMZ2EOQk2_m4lMopagfkbd2RURe9JeralPK4R2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chatId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Concatenated UIDs (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">itemId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to item (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 1f8a7251-342c-409f-aaa2-54c6e5af3ab0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lastMessage</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Most recent message text (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Condition is excellent.)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lastTimestamp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Timestamp of last message (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">participants</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Array of Firebase UIDs (array of strings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;dTGCpDOOteSXAq02NirTMZ2EOQk2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to store (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c2e14220-5ebc</span><span class="token number" style="color:#36acaa">-4211</span><span class="token number" style="color:#36acaa">-9995</span><span class="token plain">-b056ad6e852f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Tracks conversations for ThriftFinderâ€™s in-app messaging (/api/stores/chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> /api/stores/messages).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Links to messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and stores via chatId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> itemId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and storeId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Populated when users send messages or create chats (sendMessage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> createChat in storeController.js).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;chatId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dTGCpDOOteSXAq02NirTMZ2EOQk2_m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;itemId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1f8a7251-342c-409f-aaa2-54c6e5af3ab0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;lastMessage&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Condition is excellent.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;lastTimestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;participants&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;dTGCpDOOteSXAq02NirTMZ2EOQk2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;storeId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c2e14220-5ebc-4211-9995-b056ad6e852f&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">7</span><span class="token plain">. messages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores individual messages within conversations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Auto-generated Firestore ID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 92mnQMtLGwz1plHns8hK)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chatId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to chat (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dTGCpDOOteSXAq02NirTMZ2EOQk2_m4lMopagfkbd2RURe9JeralPK4R2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">itemId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to item (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 1f8a7251-342c-409f-aaa2-54c6e5af3ab0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">message</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Message text (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reservation request for shoes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">read</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Whether the message was read (boolean</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">receiverId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firebase UID of recipient (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dTGCpDOOteSXAq02NirTMZ2EOQk2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">senderId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firebase UID of sender (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m4lMopagfkbd2RURe9JeralPK4R2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Reference to store (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> c2e14220-5ebc</span><span class="token number" style="color:#36acaa">-4211</span><span class="token number" style="color:#36acaa">-9995</span><span class="token plain">-b056ad6e852f)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">timestamp</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Message timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores message history for ThriftFinderâ€™s chat feature (/api/stores/chats/</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">chatId/messages).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Links to chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and stores via chatId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> itemId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and storeId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Supports read receipts (markAsRead in storeController.js).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;chatId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dTGCpDOOteSXAq02NirTMZ2EOQk2_m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;itemId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1f8a7251-342c-409f-aaa2-54c6e5af3ab0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Reservation request for shoes&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;read&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;receiverId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dTGCpDOOteSXAq02NirTMZ2EOQk2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;senderId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;storeId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;c2e14220-5ebc-4211-9995-b056ad6e852f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">8</span><span class="token plain">. outfits</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores user-created outfit combinations from selected items.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a1b2c3d4-e5f6</span><span class="token number" style="color:#36acaa">-4123</span><span class="token plain">-8a9b-0c1d2e3f4g5h)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">outfitId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> UUID (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">userId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firebase UID of the user (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m4lMopagfkbd2RURe9JeralPK4R2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">items</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Array of item IDs (array of strings</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;1f8a7251-342c-409f-aaa2-54c6e5af3ab0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;58509fa7-5125-412e-b6eb-648fd822cb16&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Outfit name (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Casual Friday)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createdAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Creation timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">updatedAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Last update timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Allows users to save and manage outfits composed of items from various stores.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Links to items via itemId and users via userId.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Used by outfitController.js for CRUD operations (/api/outfits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> /api/outfits).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;outfitId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;a1b2c3d4-e5f6-4123-8a9b-0c1d2e3f4g5h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;userId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;m4lMopagfkbd2RURe9JeralPK4R2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;items&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;1f8a7251-342c-409f-aaa2-54c6e5af3ab0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;58509fa7-5125-412e-b6eb-648fd822cb16&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Casual Friday&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;updatedAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">9</span><span class="token plain">. externalImages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores metadata for photos uploaded via the external API (POST /external/upload) for Campus Questâ€™s photo journal feature.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Structure</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Document ID</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Cloudinary public ID (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> muscle-mommies/external/abc123)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Fields</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">imageId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Cloudinary public ID (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> matches document ID)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">imageURL</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Cloudinary URL (string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> https</span><span class="token operator" style="color:#393A34">:</span><span class="token comment" style="color:#999988;font-style:italic">//res.cloudinary.com/...)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createdAt</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Upload timestamp (Firestore Timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> September </span><span class="token number" style="color:#36acaa">2025</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">14</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">39</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00</span><span class="token plain"> UTC+</span><span class="token number" style="color:#36acaa">2</span><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Purpose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Stores metadata for photos uploaded by Campus Quest users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> separate from itemImages to avoid interference with ThriftFinderâ€™s internal logic.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Populated by externalController.js (uploadPhoto) and retrieved via GET /external/photos.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Supports Campus Questâ€™s photo journal feature</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> allowing users to upload quest-related images (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> thrift finds).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imageId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;muscle-mommies/external/abc123&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;imageURL&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://res.cloudinary.com/dfkg0topw/image/upload/v1756419431/muscle-mommies/external/abc123.jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;createdAt&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_seconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1727698740</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;_nanoseconds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Why This Setup?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Firestore Choice</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firestoreâ€™s NoSQL structure supports flexible schemas</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> real-time updates</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and scalability</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ideal for ThriftFinderâ€™s dynamic data (stores</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats) and Campus Questâ€™s integration needs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Separation of Concerns</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stores</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> itemImages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and outfits support ThriftFinderâ€™s core functionality (storefronts</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> inventory</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> messaging</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> outfit creation).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">externalImages isolates Campus Questâ€™s photo journal uploads to prevent conflicts with ThriftFinderâ€™s itemImages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Relationships</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storeId links stores to items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and messages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">itemId links items to itemImages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> messages</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and outfits.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">userId and ownerId link users to reservations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stores</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and outfits.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chatId links chats to messages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">External API Support</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stores is exposed via GET /external/stores (public) for Campus Quest to use as quest locations or ads.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">externalImages supports POST /external/upload and GET /external/photos (API key secured) for photo journal management.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Scalability</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Firestoreâ€™s automatic scaling handles growing data. The externalImages collection uses Cloudinary public IDs as document IDs to avoid collisions and simplify lookups.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">How It Works</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ThriftFinder App</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Users sign up (authController.js) and are stored in users.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Store owners create/update stores (createOrUpdateStore)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> populating stores and contactInfos.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Items are added/updated (createItem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> updateItem)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stored in items with images in itemImages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Customers reserve items (customerReserve)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> creating entries in Reservations and triggering messages in chats and messages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Users create outfits (saveOutfit)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stored in outfits.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Messages are sent (sendMessage) and tracked (markAsRead) in chats and messages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">External API for Campus Quest</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET /external/stores</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Retrieves all stores documents</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> used for quest locations or advertisements. No authentication needed to maximize exposure.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">POST /external/upload</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Uploads photos to Cloudinary (in muscle-mommies/external folder) and stores metadata in externalImages. Requires API key for security.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GET /external/photos</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Retrieves all externalImages documents for photo journal display. Requires API key.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Data Flow</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Store Creation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> stores â†’ contactInfos (optional).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Item Listing</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> items â†’ itemImages (via Cloudinary uploads).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reservation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> items (update status) â†’ Reservations â†’ chats/messages (notification to store owner).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Messaging</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> chats (conversation metadata) â†’ messages (individual messages).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Outfit Creation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> outfits (links to items and users).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Photo Journal</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> External client uploads photo â†’ Cloudinary â†’ externalImages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Usage Notes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Access</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> The backend uses Firebase Admin SDK with full access. The external API restricts externalImages access to API key holders (validateApiKey in externalController.js).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Security</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Firebase Security Rules should restrict read/write access to authenticated users for users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stores</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> items</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> etc.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> except for stores (public read for /external/stores).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">externalImages is write-protected by API key in the backend</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> but Firestore rules should further limit access.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Campus Quest Integration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use stores data for quest locations (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> map location.lat</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> location.lng).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Use externalImages for photo journals</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> storing/retrieving quest-related images.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Share the API key securely with the Campus Quest team for /external/upload and /external/photos.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Maintenance</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Monitor Firestore usage (reads/writes) to optimize costs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Periodically clean up externalImages if unused photos accumulate (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> implement a TTL policy).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ensure Cloudinary folder muscle-mommies/external is monitored for storage limits.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">New Features</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The theme field in stores can be used to filter or categorize stores in the UI.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The outfits collection enables personalized user experiences</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> linking to existing items.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Example Data Flow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Store Owner Adds Item</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creates store in stores (c2e14220-5ebc</span><span class="token number" style="color:#36acaa">-4211</span><span class="token number" style="color:#36acaa">-9995</span><span class="token plain">-b056ad6e852f) with theme vintage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Adds item (1f8a7251-342c-409f-aaa2-54c6e5af3ab0) to items with images in itemImages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Customer Creates Outfit</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Saves outfit in outfits (a1b2c3d4-e5f6</span><span class="token number" style="color:#36acaa">-4123</span><span class="token plain">-8a9b-0c1d2e3f4g5h) with items from multiple stores.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Customer Reserves Item</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Triggers customerReserve</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> creating a Reservations entry (3cf472eb-f579</span><span class="token number" style="color:#36acaa">-4561</span><span class="token plain">-8bba-d0b3e3fe9196).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Updates items.status to Reserved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creates a chats entry and sends a messages entry (92mnQMtLGwz1plHns8hK).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Campus Quest Uses API</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Calls GET /external/stores to get store data for quests.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Uploads a photo via POST /external/upload</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> storing metadata in externalImages.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Notes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Indexes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Ensure Firestore composite indexes are set for queries (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> chats.participants</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> items.storeId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Reservations.userId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> outfits.userId). Check the Firestore console for index errors.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Backups</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Use Firebaseâ€™s export feature to back up data regularly.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Campus Quest Collaboration</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Share this documentation and the API key with the Campus Quest team. Discuss additional needs (e.g.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> filtering stores by location or linking photos to quests).</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/tino-ryan/Muscle-mommies/edit/gh-pages/docs/database_documentation.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Muscle-mommies/api_documentation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ThriftFinder External API Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Muscle-mommies/user-feedback"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">User Feedback &amp; Methodology</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#database-setup" class="table-of-contents__link toc-highlight">Database Setup</a></li><li><a href="#collections" class="table-of-contents__link toc-highlight">Collections</a><ul><li><a href="#1-users" class="table-of-contents__link toc-highlight">1. <code>users</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Muscle-mommies/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/Muscle-mommies/tech-stack">Tech Stack</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/tino-ryan/Muscle-mommies" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Muscle Mommies.</div></div></div></footer></div>
</body>
</html>