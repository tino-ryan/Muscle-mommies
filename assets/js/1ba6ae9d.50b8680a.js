"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6562],{472:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"API_internal","title":"ThriftFinder API Documentation","description":"Overview","source":"@site/docs/API_internal.md","sourceDirName":".","slug":"/API_internal","permalink":"/Muscle-mommies/API_internal","draft":false,"unlisted":false,"editUrl":"https://github.com/tino-ryan/Muscle-mommies/edit/main/docs/docs/docs/API_internal.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Testing Documentation","permalink":"/Muscle-mommies/TestingDocumentation"},"next":{"title":"User Guide for The Box E-Commerce Platform","permalink":"/Muscle-mommies/user-guide"}}');var i=s(4848),o=s(8453);const d={},t="ThriftFinder API Documentation",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"File Structure",id:"file-structure",level:3},{value:"Structure Breakdown",id:"structure-breakdown",level:3},{value:"Pros of the Approach",id:"pros-of-the-approach",level:3},{value:"Cons of the Approach",id:"cons-of-the-approach",level:3},{value:"Deployment Context",id:"deployment-context",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Auth Endpoints",id:"auth-endpoints",level:3},{value:"API Endpoints",id:"api-endpoints",level:2},{value:"Users",id:"users",level:3},{value:"Stores",id:"stores",level:3},{value:"Items",id:"items",level:3},{value:"Reservations",id:"reservations",level:3},{value:"Chats / Messages",id:"chats--messages",level:3},{value:"Reviews",id:"reviews",level:3},{value:"Outfits",id:"outfits",level:3},{value:"Root Endpoint",id:"root-endpoint",level:3},{value:"User Guide",id:"user-guide",level:2},{value:"Getting Started",id:"getting-started",level:3},{value:"Common Workflows",id:"common-workflows",level:3},{value:"For Shoppers",id:"for-shoppers",level:4},{value:"For Store Owners",id:"for-store-owners",level:4},{value:"Error Handling",id:"error-handling",level:3},{value:"Deployment Considerations",id:"deployment-considerations",level:3}];function h(e){const r={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"thriftfinder-api-documentation",children:"ThriftFinder API Documentation"})}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Base URL"}),": ",(0,i.jsx)(r.code,{children:"https://muscle-mommies-server.onrender.com"})]}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"ThriftFinder"})," API powers a local thrifting platform connecting shops and shoppers. It is built with ",(0,i.jsx)(r.strong,{children:"Express"}),", ",(0,i.jsx)(r.strong,{children:"Firebase Auth/Firestore"})," for authentication and data storage, and ",(0,i.jsx)(r.strong,{children:"Cloudinary"})," for image handling. The API is deployed on Render.com, with server code located in the ",(0,i.jsx)(r.code,{children:"/server"})," directory, executed via ",(0,i.jsx)(r.code,{children:"npm start"}),"."]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Authentication"}),": Most endpoints require a Firebase JSON Web Token (JWT) in the ",(0,i.jsx)(r.code,{children:"Authorization"})," header (",(0,i.jsx)(r.code,{children:"Bearer <token>"}),"). Public endpoints are marked as ",(0,i.jsx)(r.em,{children:"No auth required"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"CORS"}),": Restricted to allowed origins (defined in ",(0,i.jsx)(r.code,{children:"process.env.ALLOWED_ORIGINS"})," or defaults to ",(0,i.jsx)(r.code,{children:"http://localhost:3001"}),", ",(0,i.jsx)(r.code,{children:"https://muscle-mommies.web.app"}),"). ",(0,i.jsx)(r.code,{children:"/external"})," routes allow all origins (",(0,i.jsx)(r.code,{children:"*"}),")."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"File Uploads"}),": Handled via ",(0,i.jsx)(r.code,{children:"multer"})," with memory storage and a 5MB file size limit."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Data Models"}),": Stored in Firestore, e.g., ",(0,i.jsx)(r.code,{children:"Item"})," (",(0,i.jsx)(r.code,{children:"itemId"}),", ",(0,i.jsx)(r.code,{children:"name"}),", ",(0,i.jsx)(r.code,{children:"category"}),", ",(0,i.jsx)(r.code,{children:"images[]"}),"), ",(0,i.jsx)(r.code,{children:"User"})," (",(0,i.jsx)(r.code,{children:"uid"}),", ",(0,i.jsx)(r.code,{children:"role"}),", ",(0,i.jsx)(r.code,{children:"email"}),"), ",(0,i.jsx)(r.code,{children:"Store"})," (",(0,i.jsx)(r.code,{children:"storeId"}),", ",(0,i.jsx)(r.code,{children:"storeName"}),", ",(0,i.jsx)(r.code,{children:"location"}),")."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Error Handling"}),": Returns JSON ",(0,i.jsx)(r.code,{children:'{ error: "message" }'})," with appropriate HTTP status codes (e.g., 401, 403, 500)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"External APIs"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Campus Quest Location API"}),": Locate thrift shops or popup markets near campuses, unlock deals via quests."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Event Planning GuestList API"}),": Manage RSVPs for thrift events, sync with user profiles."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Virtual Pen Pals Message API"}),": Facilitate delayed messaging for thrift tips or item swaps."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,i.jsxs)(r.p,{children:["The ThriftFinder API follows a modular architecture using the ",(0,i.jsx)(r.strong,{children:"Model-View-Controller (MVC)"})," pattern, with additional middleware and configuration layers. Below is the file structure and an explanation of the approach."]}),"\n",(0,i.jsx)(r.h3,{id:"file-structure",children:"File Structure"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-plain",children:"/server\n\u251c\u2500\u2500 _mocks_/                    # Mock data for testing\n\u251c\u2500\u2500 _tests_/                    # Unit and integration tests\n\u251c\u2500\u2500 controllers/               # Business logic for handling requests\n\u2502   \u251c\u2500\u2500 authController.js      # Authentication logic (signup, Google OAuth)\n\u2502   \u251c\u2500\u2500 externalController.js  # External API integrations\n\u2502   \u251c\u2500\u2500 itemController.js      # Item-related operations (create, search, get)\n\u2502   \u251c\u2500\u2500 outfitController.js    # Outfit management (save, retrieve)\n\u2502   \u2514\u2500\u2500 storeController.js     # Store, reservation, chat, and review operations\n\u251c\u2500\u2500 middleware/                # Request processing middleware\n\u2502   \u2514\u2500\u2500 authMiddleware.js      # Firebase JWT verification\n\u251c\u2500\u2500 models/                    # Data model definitions\n\u2502   \u251c\u2500\u2500 User.js               # User schema\n\u2502   \u251c\u2500\u2500 itemModel.js          # Item schema\n\u2502   \u2514\u2500\u2500 store.js              # Store, Chat, Message schemas\n\u251c\u2500\u2500 routes/                    # API route definitions\n\u2502   \u251c\u2500\u2500 authRoutes.js         # Authentication routes\n\u2502   \u251c\u2500\u2500 externalRoutes.js     # External API routes\n\u2502   \u2514\u2500\u2500 storeRoutes.js        # Store, item, reservation, chat, review routes\n\u251c\u2500\u2500 config/                    # Configuration files\n\u2502   \u2514\u2500\u2500 firebase.js           # Firebase initialization\n\u251c\u2500\u2500 utils.js                   # Utility functions\n\u2514\u2500\u2500 index.js                   # Entry point, server setup\n"})}),"\n",(0,i.jsx)(r.h3,{id:"structure-breakdown",children:"Structure Breakdown"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Models"}),": Define Firestore schema and validation logic (e.g., ",(0,i.jsx)(r.code,{children:"Item"}),", ",(0,i.jsx)(r.code,{children:"Store"}),", ",(0,i.jsx)(r.code,{children:"User"}),"). Located in ",(0,i.jsx)(r.code,{children:"/models"}),". Each model encapsulates data structure and provides a blueprint for Firestore documents."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Routes"}),": Define API endpoints and map them to controller functions. Located in ",(0,i.jsx)(r.code,{children:"/routes"}),". Routes are grouped by functionality (e.g., ",(0,i.jsx)(r.code,{children:"authRoutes.js"})," for authentication, ",(0,i.jsx)(r.code,{children:"storeRoutes.js"})," for store-related operations)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Controllers"}),": Contain business logic for handling requests, interacting with Firestore, and managing Cloudinary uploads. Located in ",(0,i.jsx)(r.code,{children:"/controllers"}),". Each controller handles specific resources (e.g., ",(0,i.jsx)(r.code,{children:"itemController.js"})," for items)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Middleware"}),": Handles cross-cutting concerns like authentication (",(0,i.jsx)(r.code,{children:"authMiddleware.js"}),") and admin verification. Located in ",(0,i.jsx)(r.code,{children:"/middleware"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Config"}),": Manages external service configurations, such as Firebase (",(0,i.jsx)(r.code,{children:"firebase.js"}),"). Located in ",(0,i.jsx)(r.code,{children:"/config"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Utils"}),": Shared utility functions for reusable logic across controllers."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsxs)(r.strong,{children:["Entry Point (",(0,i.jsx)(r.code,{children:"index.js"}),")"]}),": Initializes Express, sets up CORS, applies middleware, and mounts routes."]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"pros-of-the-approach",children:"Pros of the Approach"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Modularity and Organization"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Separating concerns into models, routes, and controllers makes the codebase modular and easier to navigate."}),"\n",(0,i.jsxs)(r.li,{children:["Each file has a single responsibility (e.g., ",(0,i.jsx)(r.code,{children:"itemController.js"})," handles item-related logic), improving readability and maintainability."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Ease of Debugging"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["The clear separation of routes and controllers simplifies tracing request flows. For example, errors in ",(0,i.jsx)(r.code,{children:"itemController.js"})," are isolated to item-related logic."]}),"\n",(0,i.jsxs)(r.li,{children:["Logging in controllers (e.g., ",(0,i.jsx)(r.code,{children:"console.log"})," in ",(0,i.jsx)(r.code,{children:"getItemsByStore"}),") aids in pinpointing issues during development."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Scalability"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"New features can be added by creating new routes and controllers without modifying existing ones."}),"\n",(0,i.jsx)(r.li,{children:"The model layer allows consistent data validation across endpoints."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Reusability"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Shared logic (e.g., ",(0,i.jsx)(r.code,{children:"uploadToCloudinary"})," in ",(0,i.jsx)(r.code,{children:"itemController.js"})," and ",(0,i.jsx)(r.code,{children:"storeController.js"}),") reduces code duplication."]}),"\n",(0,i.jsxs)(r.li,{children:["Middleware like ",(0,i.jsx)(r.code,{children:"authMiddleware.js"})," is reusable across routes."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Testing"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["The ",(0,i.jsx)(r.code,{children:"_mocks_"})," and ",(0,i.jsx)(r.code,{children:"_tests_"})," directories support unit and integration testing, making it easier to validate functionality and catch bugs early."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"cons-of-the-approach",children:"Cons of the Approach"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Large Controller Files"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["The ",(0,i.jsx)(r.code,{children:"storeController.js"})," file is lengthy, handling multiple resources (stores, reservations, chats, reviews). This increases complexity and makes maintenance harder, as developers must navigate a single large file for unrelated operations."]}),"\n",(0,i.jsxs)(r.li,{children:["For example, ",(0,i.jsx)(r.code,{children:"storeController.js"})," includes 20+ functions, from ",(0,i.jsx)(r.code,{children:"getStore"})," to ",(0,i.jsx)(r.code,{children:"createReview"}),", which could be split into separate controllers (e.g., ",(0,i.jsx)(r.code,{children:"reservationController.js"}),", ",(0,i.jsx)(r.code,{children:"chatController.js"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Firestore Query Limitations"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Firestore\u2019s query constraints (e.g., limited compound queries in ",(0,i.jsx)(r.code,{children:"searchItems"}),") require client-side filtering for some operations, increasing complexity and potential performance issues."]}),"\n",(0,i.jsxs)(r.li,{children:["Example: ",(0,i.jsx)(r.code,{children:"searchItems"})," in ",(0,i.jsx)(r.code,{children:"itemController.js"})," applies ",(0,i.jsx)(r.code,{children:"searchTerm"})," filtering client-side due to Firestore\u2019s lack of full-text search."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Dependency on External Services"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Reliance on Firebase and Cloudinary introduces external dependencies, which can lead to issues if services are down or APIs change."}),"\n",(0,i.jsxs)(r.li,{children:["Example: Cloudinary configuration errors could break image uploads in ",(0,i.jsx)(r.code,{children:"createItem"})," or ",(0,i.jsx)(r.code,{children:"createOrUpdateStore"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Deployment Challenges with Render"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Render\u2019s free tier introduces sleeping times, causing delays for the first request after inactivity, which impacts user experience."}),"\n",(0,i.jsx)(r.li,{children:"Previous experience with Railway showed similar issues when the free tier expired, forcing a switch back to Render. While Render is easy to set up and familiar from past projects, free hosting services generally have drawbacks like limited resources or downtime."}),"\n",(0,i.jsx)(r.li,{children:"Paid hosting options would resolve sleeping times but increase costs, a challenge for projects with limited budgets."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"deployment-context",children:"Deployment Context"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Initial Choice"}),": The team started with Railway for hosting but switched to Render when Railway\u2019s free tier expired."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Render Experience"}),": Render was chosen due to prior experience from a previous project, making setup straightforward. However, the free tier\u2019s sleeping times remain a drawback, causing latency for initial requests."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Hosting Trade-offs"}),": Free hosting services (e.g., Render, Railway) are cost-effective but introduce limitations like sleeping times or resource constraints. Paid services would improve performance but require budget allocation."]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsxs)(r.p,{children:["Authentication is handled via Firebase Auth. Protected routes use ",(0,i.jsx)(r.code,{children:"authMiddleware"})," to validate the Firebase JWT and attach ",(0,i.jsx)(r.code,{children:"req.user"})," (containing ",(0,i.jsx)(r.code,{children:"uid"}),") to requests. Admin-only routes use ",(0,i.jsx)(r.code,{children:"verifyAdmin"})," middleware, checking if the user\u2019s Firestore document (",(0,i.jsx)(r.code,{children:"users/{uid}"}),") has ",(0,i.jsx)(r.code,{children:"role: 'admin'"}),"."]}),"\n",(0,i.jsx)(r.h3,{id:"auth-endpoints",children:"Auth Endpoints"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/auth/signup"})]}),(0,i.jsx)(r.br,{}),"\n","Creates a new user account.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ email: string, password: string, name?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { uid: string, email: string, name?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/auth/signup/google"})]}),(0,i.jsx)(r.br,{}),"\n","Signs up a user via Google OAuth.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ idToken: string }"})," (Firebase Google ID token)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { uid: string, email: string, name?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/auth/getRole"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves the user\u2019s role (",(0,i.jsx)(r.code,{children:"shop_owner"}),", ",(0,i.jsx)(r.code,{children:"shopper"}),", or ",(0,i.jsx)(r.code,{children:"admin"}),").",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ uid?: string }"})," (or inferred from token)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { role: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth may be required based on controller implementation."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/auth/user"})]}),(0,i.jsx)(r.br,{}),"\n","Alias for ",(0,i.jsx)(r.code,{children:"/getRole"}),". Fetches user info/role.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { role: string, uid: string, ... }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth may be required based on controller implementation."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"api-endpoints",children:"API Endpoints"}),"\n",(0,i.jsx)(r.h3,{id:"users",children:"Users"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/users"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches all user profiles (admin only).",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { id: string, email: string, role: string, ... } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'403 { error: "Forbidden: Admin access required" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (admin only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/users/:userId"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches a specific user\u2019s profile.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":userId"})," (Firestore user ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { uid: string, email: string, displayName: string, role: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "User not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"stores",children:"Stores"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/my-store"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves the store owned by the authenticated user.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { storeId: string, storeName: string, description: string, location: { lat: number, lng: number }, theme: string, hours: object, ... }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Store not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches all stores.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { storeId: string, storeName: string, description: string, location: { lat: number, lng: number }, theme: string, hours: object, ... } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/:storeId"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves a specific store by ID, including contact info.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":storeId"})," (Firestore store ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { storeId: string, storeName: string, description: string, location: { lat: number, lng: number }, theme: string, hours: object, contactInfos: object[], ... }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Store not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores"})]}),(0,i.jsx)(r.br,{}),"\n","Creates or updates a store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ storeName: string, description: string, address: string, location: { lat: number, lng: number }, theme?: string, hours?: object }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Files"}),": ",(0,i.jsx)(r.code,{children:"profileImage"})," (single file, max 5MB)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { storeId: string, storeName: string, ... }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/upload-image"})]}),(0,i.jsx)(r.br,{}),"\n","Uploads a profile image for a store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Files"}),": ",(0,i.jsx)(r.code,{children:"profileImage"})," (single file, max 5MB)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { imageURL: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "No file uploaded" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/contact-infos"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves contact information for the authenticated user\u2019s store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { id: string, type: string, value: string } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Store not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/contact-infos"})]}),(0,i.jsx)(r.br,{}),"\n","Adds contact information to a store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ type: string, value: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { id: string, type: string, value: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["DELETE ",(0,i.jsx)(r.code,{children:"/api/stores/contact-infos/:contactId"})]}),(0,i.jsx)(r.br,{}),"\n","Deletes contact information by ID.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":contactId"})," (Firestore contact ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:'200 { message: "Contact info deleted successfully" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Store not found" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Contact not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"items",children:"Items"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/items"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches all available items.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { itemId: string, name: string, category: string, department: string, style: string, size: string, price: number, quantity: number, status: string, images: object[], ... } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/items/:id"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves an item by ID.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":id"})," (Firestore item ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { itemId: string, name: string, category: string, ..., images: object[] }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Item not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/:storeId/items"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches items for a specific store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":storeId"})," (Firestore store ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { itemId: string, name: string, ..., images: object[] } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Store not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/items/search"})]}),(0,i.jsx)(r.br,{}),"\n","Searches and filters items.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Query Params"}),":"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"searchTerm: string"})," (e.g., item name)"]}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"category: string"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"style: string"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"department: string"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"minPrice: number"})}),"\n",(0,i.jsx)(r.li,{children:(0,i.jsx)(r.code,{children:"maxPrice: number"})}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"status: string"})," (e.g., ",(0,i.jsx)(r.code,{children:"Available"}),")",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { itemId: string, name: string, ..., images: object[] } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid query parameters" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/items"})]}),(0,i.jsx)(r.br,{}),"\n","Creates a new item.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ name: string, description: string, category: string, department: string, style: string, size: string, price: number, quantity: number, status: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Files"}),": ",(0,i.jsx)(r.code,{children:"images[]"})," (up to 5 files, max 5MB each)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"201 { itemId: string, name: string, ..., images: object[] }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["PUT ",(0,i.jsx)(r.code,{children:"/api/stores/items/:itemId"})]}),(0,i.jsx)(r.br,{}),"\n","Updates an item and its images.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":itemId"})," (Firestore item ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ name?: string, description?: string, category?: string, department?: string, style?: string, size?: string, price?: number, quantity?: number, status?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Files"}),": ",(0,i.jsx)(r.code,{children:"images[]"})," (up to 5 files, max 5MB each)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { itemId: string, name: string, ..., images: object[] }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Item not found" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["PUT ",(0,i.jsx)(r.code,{children:"/api/stores/items/:itemId/images"})]}),(0,i.jsx)(r.br,{}),"\n","Updates an item\u2019s images only.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":itemId"})," (Firestore item ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Files"}),": ",(0,i.jsx)(r.code,{children:"images[]"})," (up to 5 files, max 5MB each)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { itemId: string, images: object[] }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Item not found" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "No files uploaded" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"reservations",children:"Reservations"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/reservations"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches reservations for the authenticated user or store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { reservationId: string, itemId: string, storeId: string, userId: string, status: string, reservedAt: timestamp, ... } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "User not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/reservations"})]}),(0,i.jsx)(r.br,{}),"\n","Creates a new reservation.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ reservationId: string, itemId: string, storeId: string, status: string, reservedAt: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { reservationId: string, itemId: string, storeId: string, status: string, ... }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Item or store not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["PUT ",(0,i.jsx)(r.code,{children:"/api/stores/reservations/:reservationId"})]}),(0,i.jsx)(r.br,{}),"\n","Updates a reservation\u2019s status (Pending, Confirmed, Cancelled, Sold).",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":reservationId"})," (Firestore reservation ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ status: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:'200 { reservationId: string, status: string, message: "Status updated successfully" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'403 { error: "Unauthorized to update this reservation" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Reservation or item not found" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid status" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required (store owner only)."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["PUT ",(0,i.jsx)(r.code,{children:"/api/stores/reservations/:reservationId/confirm"})]}),(0,i.jsx)(r.br,{}),"\n","Confirms a reservation (marks as Completed).",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":reservationId"})," (Firestore reservation ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:'200 { message: "Reservation confirmed successfully" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'403 { error: "Unauthorized to confirm this reservation" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Reservation not found" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Can only confirm sold items" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["PUT ",(0,i.jsx)(r.code,{children:"/api/stores/reserve/:itemId"})]}),(0,i.jsx)(r.br,{}),"\n","Directly reserves an item for the authenticated user.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":itemId"})," (Firestore item ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ storeId: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { reservationId: string, messageId: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Item not found" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Item not available" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"chats--messages",children:"Chats / Messages"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/chats"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves chats for the authenticated user.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { chatId: string, participants: string[], lastMessage: string, lastTimestamp: timestamp, itemId?: string, storeId?: string, otherName: string, otherId: string } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/chats/:chatId/messages"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches messages for a specific chat.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":chatId"})," (Firestore chat ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { messageId: string, chatId: string, senderId: string, receiverId: string, message: string, timestamp: timestamp, read: boolean } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Chat not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/messages"})]}),(0,i.jsx)(r.br,{}),"\n","Sends a message in a chat.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ chatId: string, message: string, receiverId?: string, itemId?: string, storeId?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { messageId: string, chatId: string, senderId: string, receiverId: string, message: string, timestamp: timestamp, read: boolean }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["PUT ",(0,i.jsx)(r.code,{children:"/api/stores/chats/:chatId/read"})]}),(0,i.jsx)(r.br,{}),"\n","Marks a chat\u2019s messages as read for the authenticated user.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":chatId"})," (Firestore chat ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:'200 { message: "Messages marked as read" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Chat not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/chats"})]}),(0,i.jsx)(r.br,{}),"\n","Creates a new chat.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ receiverId: string, itemId?: string, message: string, storeId?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { chatId: string, messageId: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"reviews",children:"Reviews"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/stores/reviews"})]}),(0,i.jsx)(r.br,{}),"\n","Submits a review for a store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ storeId: string, rating: number, review?: string, reservationId?: string, itemId?: string }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:'200 { message: "Review created successfully", review: { reviewId: string, storeId: string, rating: number, ... } }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'404 { error: "Store not found" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/stores/:storeId/reviews"})]}),(0,i.jsx)(r.br,{}),"\n","Fetches reviews for a specific store.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Params"}),": ",(0,i.jsx)(r.code,{children:":storeId"})," (Firestore store ID)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { reviewId: string, storeId: string, userId: string, userName: string, rating: number, review: string, itemName: string, createdAt: timestamp } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'400 { error: "Store ID is required" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"outfits",children:"Outfits"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["POST ",(0,i.jsx)(r.code,{children:"/api/outfits"})]}),(0,i.jsx)(r.br,{}),"\n","Saves an outfit for the authenticated user.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Body"}),": ",(0,i.jsx)(r.code,{children:"{ items: string[], name?: string }"})," (array of item IDs)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 { outfitId: string, items: string[], name?: string, ... }"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'400 { error: "Invalid input" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/api/outfits"})]}),(0,i.jsx)(r.br,{}),"\n","Retrieves all outfits for the authenticated user.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:"200 [ { outfitId: string, items: string[], name?: string, ... } ]"}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": ",(0,i.jsx)(r.code,{children:'401 { error: "Unauthorized: Invalid token" }'}),", ",(0,i.jsx)(r.code,{children:'500 { error: "Server error" }'}),(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"Auth required."})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"root-endpoint",children:"Root Endpoint"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsxs)(r.strong,{children:["GET ",(0,i.jsx)(r.code,{children:"/"})]}),(0,i.jsx)(r.br,{}),"\n","Confirms the server is running.",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Response"}),": ",(0,i.jsx)(r.code,{children:'200 "Backend is live!"'})," (text)",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.strong,{children:"Errors"}),": None",(0,i.jsx)(r.br,{}),"\n",(0,i.jsx)(r.em,{children:"No auth required."})]}),"\n"]}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.h2,{id:"user-guide",children:"User Guide"}),"\n",(0,i.jsx)(r.p,{children:"This section provides step-by-step instructions for interacting with the ThriftFinder API, tailored for developers integrating with the platform."}),"\n",(0,i.jsx)(r.h3,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Set Up Firebase Authentication"}),":"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Obtain a Firebase JWT by signing up or signing in via Firebase Auth (client-side SDK or REST API)."}),"\n",(0,i.jsxs)(r.li,{children:["Use the ",(0,i.jsx)(r.code,{children:"/api/auth/signup"})," or ",(0,i.jsx)(r.code,{children:"/api/auth/signup/google"})," endpoints to create a user account."]}),"\n",(0,i.jsxs)(r.li,{children:["Store the JWT (",(0,i.jsx)(r.code,{children:"idToken"}),") returned from Firebase for use in subsequent requests."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Making Authenticated Requests"}),":"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Include the JWT in the ",(0,i.jsx)(r.code,{children:"Authorization"})," header as ",(0,i.jsx)(r.code,{children:"Bearer <token>"})," for all protected endpoints."]}),"\n",(0,i.jsxs)(r.li,{children:["Example (using ",(0,i.jsx)(r.code,{children:"curl"}),"):","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:'curl -H "Authorization: Bearer <your-jwt-token>" https://muscle-mommies-server.onrender.com/api/my-store\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Handling File Uploads"}),":"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["For endpoints like ",(0,i.jsx)(r.code,{children:"/api/stores"})," or ",(0,i.jsx)(r.code,{children:"/api/stores/items"}),", use ",(0,i.jsx)(r.code,{children:"multipart/form-data"})," to upload images."]}),"\n",(0,i.jsxs)(r.li,{children:["Example (using ",(0,i.jsx)(r.code,{children:"curl"})," for ",(0,i.jsx)(r.code,{children:"/api/stores/upload-image"}),"):","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:'curl -X POST -H "Authorization: Bearer <your-jwt-token>" -F "profileImage=@/path/to/image.jpg" https://muscle-mommies-server.onrender.com/api/stores/upload-image\n'})}),"\n"]}),"\n",(0,i.jsx)(r.li,{children:"Ensure files are under 5MB and in image format (e.g., JPEG, PNG)."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"Testing Public Endpoints"}),":"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Public endpoints like ",(0,i.jsx)(r.code,{children:"/api/stores"})," or ",(0,i.jsx)(r.code,{children:"/api/items"})," do not require authentication."]}),"\n",(0,i.jsxs)(r.li,{children:["Example:","\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"curl https://muscle-mommies-server.onrender.com/api/stores\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"common-workflows",children:"Common Workflows"}),"\n",(0,i.jsx)(r.h4,{id:"for-shoppers",children:"For Shoppers"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Browse Stores and Items"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"GET /api/stores"})," to list all thrift stores."]}),"\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"GET /api/items"})," or ",(0,i.jsx)(r.code,{children:"GET /api/items/search?searchTerm=shirt&category=Clothing"})," to find items."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Reserve an Item"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Authenticate and use ",(0,i.jsx)(r.code,{children:"PUT /api/stores/reserve/:itemId"})," with ",(0,i.jsx)(r.code,{children:"{ storeId }"})," in the body to reserve an item."]}),"\n",(0,i.jsx)(r.li,{children:"This creates a reservation and initiates a chat with the store owner."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Communicate with Store Owners"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"POST /api/stores/chats"})," to start a chat, then ",(0,i.jsx)(r.code,{children:"POST /api/stores/messages"})," to send messages."]}),"\n",(0,i.jsxs)(r.li,{children:["Check messages with ",(0,i.jsx)(r.code,{children:"GET /api/stores/chats/:chatId/messages"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Leave a Review"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["After a purchase, use ",(0,i.jsx)(r.code,{children:"POST /api/stores/reviews"})," to submit a review for the store."]}),"\n",(0,i.jsxs)(r.li,{children:["Example body: ",(0,i.jsx)(r.code,{children:'{ storeId: "abc123", rating: 5, review: "Great experience!" }'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h4,{id:"for-store-owners",children:"For Store Owners"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Set Up a Store"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Authenticate and use ",(0,i.jsx)(r.code,{children:"POST /api/stores"})," to create or update your store profile."]}),"\n",(0,i.jsxs)(r.li,{children:["Include ",(0,i.jsx)(r.code,{children:"storeName"}),", ",(0,i.jsx)(r.code,{children:"address"}),", ",(0,i.jsx)(r.code,{children:"location"}),", and optionally ",(0,i.jsx)(r.code,{children:"profileImage"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Add Items"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"POST /api/stores/items"})," to add items, including up to 5 images."]}),"\n",(0,i.jsxs)(r.li,{children:["Example body: ",(0,i.jsx)(r.code,{children:'{ name: "Vintage Shirt", price: 20, quantity: 1, category: "Clothing" }'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Manage Reservations"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["View reservations with ",(0,i.jsx)(r.code,{children:"GET /api/stores/reservations"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:["Update status (e.g., to Sold) with ",(0,i.jsx)(r.code,{children:"PUT /api/stores/reservations/:reservationId"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"View Reviews"}),":","\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Use ",(0,i.jsx)(r.code,{children:"GET /api/stores/:storeId/reviews"})," to see customer feedback."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"401 Unauthorized"}),": Ensure the ",(0,i.jsx)(r.code,{children:"Authorization"})," header includes a valid Firebase JWT."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"403 Forbidden"}),": Check if the user has the required role (e.g., ",(0,i.jsx)(r.code,{children:"admin"})," for ",(0,i.jsx)(r.code,{children:"/api/users"}),", ",(0,i.jsx)(r.code,{children:"storeOwner"})," for item updates)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"404 Not Found"}),": Verify that the requested resource (e.g., ",(0,i.jsx)(r.code,{children:"storeId"}),", ",(0,i.jsx)(r.code,{children:"itemId"}),") exists."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"400 Bad Request"}),": Check the request body or query parameters for required fields or correct formats."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"500 Server Error"}),": Retry the request or contact the API administrator if the issue persists."]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"deployment-considerations",children:"Deployment Considerations"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Render Sleeping Times"}),": The API may experience delays on the first request after inactivity due to Render\u2019s free tier. For critical applications, consider upgrading to a paid plan."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Testing Locally"}),": Set up a local environment with ",(0,i.jsx)(r.code,{children:"npm start"})," and configure ",(0,i.jsx)(r.code,{children:"process.env.ALLOWED_ORIGINS"})," to include ",(0,i.jsx)(r.code,{children:"http://localhost:3001"}),"."]}),"\n"]})]})}function a(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>d,x:()=>t});var n=s(6540);const i={},o=n.createContext(i);function d(e){const r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function t(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);